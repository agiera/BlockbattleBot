.PHONY: all clean clean-irix

ExperimentV = MCExperiment.c
AGENTV = SarsaAgent.cpp 
ENVV = Blackjack.cpp 
COMMON = bj_common.h 

CPPFLAGS=-O3 -Wall

all:  ../../RL-Glue1p1/RLcommon.h Build/RL_Interface.o Build/agent.o Build/env.o Build/Experiment.o  
	${CXX}  Build/env.o Build/RL_Interface.o Build/agent.o Build/Experiment.o -o RL_Experiment 

../../RL-Glue1p1/RLcommon.h: ${COMMON}
	cp ${COMMON} ../../RL-Glue1p1/RLcommon.h
 
Build/RL_Interface.o: ../../RL-Glue1p1/RL_Interface.c 
	${CXX} ${CPPFLAGS} -g -o Build/RL_Interface.o -c ../../RL-Glue1p1/RL_Interface.c

Build/Experiment.o: $(ExperimentV)
	${CXX} ${CPPFLAGS} -I ../../RL-Glue1p1/ -g -o Build/Experiment.o -c $(ExperimentV) 

Build/agent.o: $(AGENTV) 
	${CXX} ${CPPFLAGS} -I ../../RL-Glue1p1/ -g -o Build/agent.o -c $(AGENTV) 

Build/env.o: $(ENVV) 
	${CXX} ${CPPFLAGS} -I ../../RL-Glue1p1/ -g -o Build/env.o -c $(ENVV) 

clean: 
	-rm -rf Build/*.o RL_Experiment core* ../../RL-Glue1p1/RLcommon.h 
clean-irix:
	rm -rf Build/*.o RL_Experiment core* ../../RL-Glue1p1/RLcommon.h
